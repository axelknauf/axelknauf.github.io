<!DOCTYPE html>

<meta charset="utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta property="og:url" content="https://axelknauf.github.io/">


<meta property="og:type" content="article">
<meta property="og:title" content="Git als SVN Client nutzen &middot; Knowledge Base">

<meta property="og:site_name" content="Knowledge Base">

<title>
    
    Git als SVN Client nutzen
    
</title>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//yandex.st/highlightjs/8.0/styles/">
<link rel="stylesheet" href="https://axelknauf.github.io//css/styles.css">
<link rel="stylesheet" href="https://axelknauf.github.io//css/custom.css">


<link rel="shortcut icon" href="https://axelknauf.github.io//assets/favicon.ico">


<link rel="alternate" type="application/rss+xml" title="RSS" href="https://axelknauf.github.io//index.xml">


<div class="container">
    <header class="nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="https://axelknauf.github.io/">Knowledge Base</a>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="https://axelknauf.github.io//post">All Posts</a></li>
                        <li><a href="https://axelknauf.github.io//tags">Tags</a></li>
                        
                        <li><a href="https://axelknauf.github.io/">Welcome</a></li>
                        
                        <li><a href="https://axelknauf.github.io/about/">About</a></li>
                        
                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        
                        
                    </ul>
                </div>
            </div>
        </nav>
    </header>


<div class="row">
    <div class="col-md-8">
        <article class="post">

            <header>
                <div class="post-date">
                    <span class="glyphicon glyphicon-calendar"></span>
                    <time datetime="Dec 17 2015">
                        Dec 17 2015
                    </time>
                </div>
                <h1 class="post-title">
                    <a href="https://axelknauf.github.io/post/git-svn/">Git als SVN Client nutzen</a>
                </h1>
            </header>

            <div class="post-content">
                

<h1 id="git-als-svn-client:1dcdb17f1cd8847d72134adf129e70ba">Git als SVN Client</h1>

<p>Man kann Git als SVN Client nutzen, die Funktionalität wird von Git als &ldquo;git-svn Bridge&rdquo; bereitgestellt. Letztendlich ist es einfach ein Kommando des Git Clients, das mit <code>git svn &lt;command&gt;</code> aufgerufen werden kann.</p>

<h2 id="arbeiten-mit-git-svn:1dcdb17f1cd8847d72134adf129e70ba">Arbeiten mit git-svn</h2>

<h3 id="checkout-a-k-a-clone:1dcdb17f1cd8847d72134adf129e70ba">Checkout a. k. a. Clone</h3>

<p>Angenommen, Du hast ein SVN Repo unter <a href="http://svn.example.com/my/repo">http://svn.example.com/my/repo</a> mit den Standardpfaden:</p>

<ul>
<li><a href="http://svn.example.com/my/repo/trunk">http://svn.example.com/my/repo/trunk</a> - Trunk</li>
<li><a href="http://svn.example.com/my/repo/branches">http://svn.example.com/my/repo/branches</a> - SVN Branches</li>
<li><a href="http://svn.example.com/my/repo/tags">http://svn.example.com/my/repo/tags</a> - SVN Tags</li>
</ul>

<p>Dann kann man auf folfende Art ein lokales Git Repository klonen:</p>

<pre><code>git svn clone --stdlayout &lt;url&gt;
</code></pre>

<p>Dieser Prozess kann einige Zeit dauern, da Git ja die komplette History auscheckt und lokal vorhält. Falls das Repository eine sehr lange History hat und man sie nicht vollständig braucht, kann man sie beschränken, indem man den <code>--revisions (-r)</code> Parameter mitgibt (vgl. Doku unten).</p>

<p>Danach hat man ein lokales Git Repository, befindet sich im master Branch und kann lokal den gewohnten Git Workflow verwenden, bis auf Ausnahme von push / pull, die hier nicht funktionieren.</p>

<h3 id="update-commit:1dcdb17f1cd8847d72134adf129e70ba">Update &amp; Commit</h3>

<p>Statt <code>fetch/merge</code>, <code>pull</code> und <code>push</code> verwendet man bei <code>git-svn</code> die beiden Kommandos <code>svn rebase</code> und <code>svn dcommit</code>. Angenommen, man verwendet den master Branch, um mit dem SVN Repo zu synchronisieren und entwickelt lokal in einem dev Branch, der vom master abzweigt, dann sähe ein üblicher Workflow so aus:</p>

<pre><code># Ausgangssituation:
# Man befindet sich im branch &quot;dev&quot;, hier sind neuere Änderungen als im master.

# SVN UPDATE == GIT SVN REBASE
# Zuerst wechseln wir zum master und holen uns ein SVN Update und aktualisieren damit den &quot;dev&quot; Branch
git checkout master
git svn rebase 
git rebase master dev

# SVN COMMIT == GIT SVN DCOMMIT
# Jetzt befindet man sich wieder im dev Branch, der ist jetzt up-to-date.
# Man mergt die eigenen, neueren Commits in master und &quot;pusht&quot; die Änderungen ins SVN Repo, mit dcommit
git checkout master
git merge dev
git svn dcommit
</code></pre>

<p>Wichtig: das hier verwendete <code>git svn rebase</code> im <code>master</code> pullt nur die neuen Commits aus dem SVN Trunk, d. h. wenn sich etwas an SVN Branches oder Tags geändert hat, sind diese Änderungen noch nicht im lokalen Git Repo angekommen. Infos zu Branches und Tags folgen unten.</p>

<h3 id="arbeiten-mit-svn-branches:1dcdb17f1cd8847d72134adf129e70ba">Arbeiten mit SVN Branches</h3>

<p>Wenn man SVN Branches verwenden will, muss man sie auch im lokalen Git Repo auschecken und verwenden. Der Workflow ist dabei sehr ähnlich zu oben, nur dass man sich vorher die aktuellen Branches und Tags aus dem SVN Repo fetchen muss:</p>

<pre><code># Alle Branches und Tags mit dem SVN Repo synchronisieren
git checkout master
git svn fetch --fetch-all

# SVN Branch auschecken und drin arbeiten
git checkout -b &lt;neuer-git-branch-name&gt; &lt;remotes/svn-branch-name&gt;
vi &lt;file&gt;
git add &lt;file&gt;
git commit -m &quot;Commit message&quot;

# SVN Update holen, falls sich im SVN Branch etwas geändert hat (sonst schlägt das Commit fehl)
git svn rebase

# SVN Commit der lokalen Änderungen in den SVN Branch
git svn dcommit
</code></pre>

<p>Auch hier kann man lokal beliebig Git Branches verwenden.</p>

<h3 id="merges-zwischen-trunk-und-branch:1dcdb17f1cd8847d72134adf129e70ba">Merges zwischen Trunk und Branch</h3>

<p>Wenn man Bugfixes o. ä. zwischen den SVN Branches mergen will, kann man auf das übliche Git <code>cherry-pick</code> zurückgreifen. Wenn man lokal sowohl den master (= SVN Trunk) als auch den SVN Branch vorliegen hat, geht das git-nativ:</p>

<pre><code># Ziel-SVN-branch auschecken (man verwendet für das checkout den Branch Namen im lokalen Git Repo, der kann anders sein als der Name des Branches im SVN Repo)
git checkout &lt;git-branch-name&gt;
git cherry-pick -x &lt;hash&gt;
</code></pre>

<p>Der Platzhalter <code>&lt;hash&gt;</code> bezieht sich dabei auf einen beliebigen Commit im lokalen Git Repo, z. B. einen Fix aus <code>master</code> / Trunk.</p>

<h2 id="links:1dcdb17f1cd8847d72134adf129e70ba">Links</h2>

<ul>
<li>Offizielle Doku: <a href="https://git-scm.com/docs/git-svn">https://git-scm.com/docs/git-svn</a></li>
<li>Hilfreiche Zusammenfassung: <a href="https://stackoverflow.com/questions/3239759/checkout-remote-branch-using-git-svn">https://stackoverflow.com/questions/3239759/checkout-remote-branch-using-git-svn</a></li>
</ul>

            </div>

            <aside>
                
                <ul class="list-inline post-tags">
                    
                    <li>
                        <a href="https://axelknauf.github.io//tags/git">
                            <i class="fa fa-tags"></i>
                            git
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://axelknauf.github.io//tags/svn">
                            <i class="fa fa-tags"></i>
                            svn
                        </a>
                    </li>
                    
                </ul>

                
            
            <footer>

                <nav>
                    <ul class="pager">

                        
                        <li class="previous"><a href="https://axelknauf.github.io/"><span aria-hidden="true">&larr;</span> Older</a></li>
                        

                        <li><a href="https://axelknauf.github.io//post">All Posts</a></li>

                        
                        <li class="next"><a href="https://axelknauf.github.io/about/">Newer <span aria-hidden="true">&rarr;</span></a></li>
                        

                    </ul>
                </nav>

                
            </footer>

        </article>
    </div>
    <div class="col-md-4">
        
<aside>
    <div class="row">

        <div class="col-xs-12 col-sm-4 col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="panel-title">Recent Posts</h2>
                </div>
                <div class="list-group">
                    
                    <a href="/post/linux-filesystem-snippets/" class="list-group-item">Linux snippets</a>
                    
                    <a href="/" class="list-group-item">Welcome</a>
                    
                    <a href="/post/git-svn/" class="list-group-item">Git als SVN Client nutzen</a>
                    
                    <a href="/about/" class="list-group-item">About</a>
                    
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-sm-4 col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="panel-title">Tags</h2>
                </div>
                <div class="list-group">
                    
                    
                    
                    <a href="https://axelknauf.github.io//tags/git" class="list-group-item">
                        <span class="badge">1</span>
                        git
                    </a>
                    
                    
                    <a href="https://axelknauf.github.io//tags/svn" class="list-group-item">
                        <span class="badge">1</span>
                        svn
                    </a>
                    
                </div>
            </div>
        </div>

    </div>
</aside>

    </div>
</div>

</div>
<hr>

<footer class="container copy">
    <p>&copy; 2015  Axel Knauf </p>
	<p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a></p>
	<p>Theme <a href="https://github.com/dim0627/hugo_theme_beg" target="_blank">beg</a> designed by <a href="https://www.facebook.com/daisuke.tsuji.735" target="_blank">Daisuke Tsuji</a></p>
</footer>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="//yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
document.write('<script src="//sharebutton.net/plugin/sharebutton.php?type=horizontal&u=' + encodeURIComponent(document.location.href) + '"></scr' + 'ipt>');
</script>

