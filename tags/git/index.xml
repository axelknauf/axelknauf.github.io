<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Knowledge Base </title>
    <link>https://axelknauf.github.io/tags/git/</link>
    <language>en-us</language>
    <author>Axel Knauf</author>
    <rights>(C) 2016</rights>
    <updated>2015-12-18 09:48:22 &#43;0100 CET</updated>

    
      
        <item>
          <title>Using Git as SVN Client</title>
          <link>https://axelknauf.github.io/post/git-svn/</link>
          <pubDate>Fri, 18 Dec 2015 09:48:22 CET</pubDate>
          <author>Axel Knauf</author>
          <guid>https://axelknauf.github.io/post/git-svn/</guid>
          <description>

&lt;p&gt;Using Git as SVN client is quite easy, since the functionality has been built-in already, named the &amp;ldquo;git-svn&amp;rdquo; bridge. It boils down to an additional Git command which can be used in the form &lt;code&gt;git svn &amp;lt;command&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;working-with-git-svn:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;Working with &lt;code&gt;git-svn&lt;/code&gt;&lt;/h2&gt;

&lt;h3 id=&#34;checkout-a-k-a-clone:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;Checkout a. k. a. Clone&lt;/h3&gt;

&lt;p&gt;Assuming you have an SVN repo at &lt;a href=&#34;http://svn.example.com/my/repo&#34;&gt;http://svn.example.com/my/repo&lt;/a&gt; with all standard paths:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://svn.example.com/my/repo/trunk&#34;&gt;http://svn.example.com/my/repo/trunk&lt;/a&gt; - Trunk&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://svn.example.com/my/repo/branches&#34;&gt;http://svn.example.com/my/repo/branches&lt;/a&gt; - SVN Branches&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://svn.example.com/my/repo/tags&#34;&gt;http://svn.example.com/my/repo/tags&lt;/a&gt; - SVN Tags&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then you can easily clone the full SVN repo with all its history by running:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git svn clone --stdlayout &amp;lt;url&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This process can take some time since Git clones all history to keep it in the local working copy. In case the history is quite large and you do not need all of it, you can limit the checkout to the most recent revisions using the parameter &lt;code&gt;--revisions (-r)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Afterwards you have a local Git repo like usual, you are in the master branch and you can apply any local workflow you are used to - except for &lt;code&gt;push&lt;/code&gt; and &lt;code&gt;pull&lt;/code&gt;, I will outline their differences below.&lt;/p&gt;

&lt;h3 id=&#34;svn-update-commit:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;SVN Update &amp;amp; Commit&lt;/h3&gt;

&lt;p&gt;Instead of &lt;code&gt;fetch/merge&lt;/code&gt;, &lt;code&gt;pull&lt;/code&gt; and &lt;code&gt;push&lt;/code&gt;, &lt;code&gt;git-svn&lt;/code&gt; uses the two commands &lt;code&gt;svn rebase&lt;/code&gt; and &lt;code&gt;svn dcommit&lt;/code&gt;. Assuming you use the master branch to synchronize your work with the SVN repo (after the checkout above the SVN remotes should already be configured correctly), a usual workflow may look like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    # Starting situation
    # You are in branch &amp;quot;dev&amp;quot; with newer changes than in &amp;quot;master&amp;quot;

    # SVN UPDATE == GIT SVN REBASE
    # First, switch to master branch, fetch an SVN update and rebase the &amp;quot;dev&amp;quot; branch
    git checkout master
    git svn rebase 
    git rebase master dev

    # SVN COMMIT == GIT SVN DCOMMIT
    # Now you are back in the &amp;quot;dev&amp;quot; branch (rebase switches the branch automatically)
    # which is up-to-date with the most recent SVN changes.
    # Now, simply merge the local changes into master, then commit them into the SVN 
    # repo using &amp;quot;dcommit&amp;quot;
    git checkout master
    git merge dev
    git svn dcommit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Important: Using &lt;code&gt;git svn rebase&lt;/code&gt; in master only pulls changes from SVN trunk, so if there are any new tags or branches in the SVN repo, you will not (yet) see them in you local Git repo. How to use SVN branches and tags is shown below.&lt;/p&gt;

&lt;h3 id=&#34;working-with-svn-branches:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;Working with SVN branches&lt;/h3&gt;

&lt;p&gt;In case you want (or need) to work with SVN branches in your local Git repo, this can be accomplished quite easily. The workflow is similar to above, you only need to fetch the relevant branches from your SVN remote explicitly from the SVN repo.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    # Synchronize all SVN branches and tags with the local Git repo
    git checkout master
    git svn fetch --fetch-all

    # Locally check out the SVN branch as Git branch and work in it
    git checkout -b &amp;lt;new-git-branch-name&amp;gt; &amp;lt;remotes/svn-branch-name&amp;gt;
    vi &amp;lt;file&amp;gt;
    git add &amp;lt;file&amp;gt;
    git commit -m &amp;quot;Commit message&amp;quot;

    # Fetch SVN updates if any (otherwise commit may fail)
    git svn rebase

    # Commit all changes from local Git branch to remote SVN repository branch
    # (dcommit stands for &amp;quot;delta commit&amp;quot;, so the SVN repo will reflect all
    # commits as you see them in your local Git branch - so it may be a good
    # idea to cleanup your non-published history with `git rebase -i` before
    # committing).
    git svn dcommit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can use all Git magic, branches, merges etc. here as usual.&lt;/p&gt;

&lt;h3 id=&#34;merges-between-trunk-and-branch:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;Merges between Trunk and Branch&lt;/h3&gt;

&lt;p&gt;If you want to merge commits or fixes between SVN branches, you can use &lt;code&gt;git cherry-pick&lt;/code&gt; which is a (tremendously) useful tool. Assuming you have a master branch (corresponding to SVN trunk) and another SVN branch locally, then this can be done git-natively:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    # Checkout target branch (using the branch name of the local git repo, which may 
    # deviate from the branch name in the remote SVN repo)
    git checkout &amp;lt;git-branch-name&amp;gt;
    git cherry-pick -x &amp;lt;hash&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;&amp;lt;hash&amp;gt;&lt;/code&gt; refers to an arbitrary commit from the local Git repo, e. g. a specific fix from master / trunk.&lt;/p&gt;

&lt;h2 id=&#34;links:1dcdb17f1cd8847d72134adf129e70ba&#34;&gt;Links&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Official docs: &lt;a href=&#34;https://git-scm.com/docs/git-svn&#34;&gt;https://git-scm.com/docs/git-svn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Useful StackOverflow answer: &lt;a href=&#34;https://stackoverflow.com/questions/3239759/checkout-remote-branch-using-git-svn&#34;&gt;https://stackoverflow.com/questions/3239759/checkout-remote-branch-using-git-svn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
      
    

  </channel>
</rss>
